import{b as f,h as B,i as n,j as h,k as T,l as m,m as w,n as d}from"./app.min.js";import{s as k}from"./slider.min.js";const l=document.querySelectorAll("[data-slider-block]"),i=async(s,t,o)=>{if(!t)return;T(t),await m(.5);const r=[...l].find(e=>e.dataset.sliderBlock===t.dataset.sliderBlock).querySelector(".swiper-wrapper");if(t.dataset.sliderBlock==="products-related"){const e=document.querySelector(".product-item[data-product-cart]");if(e){s.filter(({type:a})=>a===e.dataset.productCart).forEach(a=>{r.insertAdjacentHTML("beforeend",o(a,!0))});return}}if(t.dataset.sliderBlock==="posts-related"){const e=document.querySelector(".item-post-single[data-post-theme]");if(e){s.filter(({theme:a})=>a===e.dataset.postTheme).forEach(a=>{r.insertAdjacentHTML("beforeend",o(a,!0))});return}}s.filter(({type:e})=>e===t.dataset.sliderBlock).forEach(e=>{r.insertAdjacentHTML("beforeend",o(e,!0))})},p=async()=>{k.forEach(s=>{!s||!s.el?.querySelectorAll(".swiper-slide").length||s.init()})},P=async s=>{const{entry:{target:t,isIntersecting:o}}=s.detail;if(!o)return;const c=await f(),r=await B();if(c.length&&await i(c,t,w),r.length){if(t.dataset.sliderBlock==="posts-related"){await i(r,t,d),await p(),n(t);return}const e=h(r).slice(0,3);await i(e,t,d)}await p(),n(t)};l.length&&document.addEventListener("watcherCallback",P);
